package googlebing.searchimplemetation;

import java.io.File;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import org.openqa.selenium.By;
import org.openqa.selenium.WebElement;

import utilities.commonUtilities;

public class Google extends commonUtilities implements Search{

	
	public void googleSearchBox(String searchTerm)
	{
		driver.findElement(By.cssSelector("input[name='q']")).sendKeys(searchTerm);
	}
	
	public void googleSearchButton()
	{
		driver.findElement(By.cssSelector("input[name='btnK']")).click();
	}
	
	
	@Override
	public List<Map<String, String>> searchFor(String searchTerm) {
		
		List<HashMap> searchResults = new ArrayList<HashMap>();
		
		this.googleSearchBox(searchTerm);
		this.googleSearchButton();
		List<WebElement> resultsTitle = driver.findElements(By.cssSelector("h3:first-child a[href^='http']"));
		
		for (WebElement re: resultsTitle){
			HashMap<String, String> attributes = new HashMap<String, String>();
			attributes.put("resultTitle",re.getText());
			attributes.put("pageLink",re.getAttribute("href"));
			System.out.println(re.getText());
			System.out.println(re.getAttribute("href"));		
		}
		return null;
	}

	@Override
	public Map<String, String> definePhrase(String phrase) {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public List<File> searchImagesFor(String keyword) {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public int sum(int a, int b) {
		// TODO Auto-generated method stub
		return a+b;
	}

}
